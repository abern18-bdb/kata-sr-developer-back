{
	"openapi": "3.0.0",
	"info": {
	  "title": "Task Manager API",
	  "version": "1.0.0",
	  "description": "API para gestionar tareas."
	},
	"servers": [
	  {
		"url": "http://localhost:8001/api",
		"description": "Servidor de desarrollo"
	  }
	],
	"components": {
	  "parameters": {
		"X-User": {
		  "name": "x-user",
		  "in": "header",
		  "required": true,
		  "schema": {
			"type": "string"
		  }
		},
		"Authorization": {
		  "name": "authorization",
		  "in": "header",
		  "required": true,
		  "schema": {
			"type": "string"
		  }
		}
	  }
	},
	"paths": {
	  "/V1/tasks/create": {
		"post": {
		  "summary": "Crear una nueva tarea",
		  "operationId": "createTask",
		  "parameters": [
			{ "$ref": "#/components/parameters/X-User" },
			{ "$ref": "#/components/parameters/Authorization" }
		  ],
		  "requestBody": {
			"required": true,
			"content": {
			  "application/json": {
				"schema": {
				  "type": "object",
				  "properties": {
					"title": { "type": "string", "example": "Titulo tarea" },
					"description": { "type": "string", "example": "Descripción tarea" }
				  },
				  "required": ["title", "description"]
				}
			  }
			}
		  },
		  "responses": {
			  "201": {
				"description": "Tarea creada",
				"content": {
				  "application/json": {
					"schema": {
					  "type": "object",
					  "properties": {
						"id": { "type": "integer" },
						"title": { "type": "string" },
						"description": { "type": "string" }
					  }
					}
				  }
				}
			  },
			  "400": {
				"description": "Error en la solicitud, El título es obligatorio, La descripción es obligatoria"
			  }
			}
		}
	  },
	  "/V1/tasks/list": {
		"get": {
		  "summary": "Listar todas las tareas",
		  "operationId": "getTasks",
		  "parameters": [
			{ "$ref": "#/components/parameters/Authorization" }
		  ],
		  "responses": {
			"200": {
			  "description": "Lista de tareas",
			  "content": {
				"application/json": {
				  "schema": {
					"type": "array",
					"items": {
					  "type": "object",
					  "properties": {
						"id": { "type": "integer" },
						"title": { "type": "string" },
						"description": { "type": "string" },
						"user_name": { "type": "string" },
						"created_at": { "type": "string", "format": "date-time" },
						"updated_at": { "type": "string", "format": "date-time" }
					  }
					}
				  }
				}
			  }
			},
			"500": {
			  "description": "Error del servidor"
			}
		  }
		}
	  },
	  "/V1/tasks": {
		"put": {
		  "summary": "Actualizar una tarea existente",
		  "operationId": "updateTask",
		  "parameters": [
			{ "$ref": "#/components/parameters/X-User" },
			{ "$ref": "#/components/parameters/Authorization" },
			{
			  "name": "id",
			  "in": "query",
			  "required": true,
			  "description": "ID de la tarea a actualizar",
			  "schema": {
				"type": "integer"
			  }
			}
		  ],
		  "requestBody": {
			"required": true,
			"content": {
			  "application/json": {
				"schema": {
				  "type": "object",
				  "properties": {
					"title": { "type": "string", "example": "Tarea actualizada" },
					"description": { "type": "string", "example": "Descripción actualizada" }
				  },
				  "required": ["title", "description"]
				}
			  }
			}
		  },
		  "responses": {
			  "200": {
				"description": "Tarea actualizada",
				"content": {
				  "application/json": {
					"schema": {
					  "type": "object",
					  "properties": {
						"id": { "type": "integer" },
						"title": { "type": "string" },
						"description": { "type": "string" }
					  }
					}
				  }
				}
			  },
			  "400": {
				"description": "El título es obligatorio, La descripción es obligatoria, ID es requerido"
			  },
			  "404": {
				"description": "Tarea no encontrada"
			  }
			}
		},
		"delete": {
		  "summary": "Eliminar una tarea",
		  "operationId": "deleteTask",
		  "parameters": [
			{ "$ref": "#/components/parameters/Authorization" },
			{
			  "name": "id",
			  "in": "query",
			  "required": true,
			  "description": "ID de la tarea a eliminar",
			  "schema": {
				"type": "integer"
			  }
			}
		  ],
		  "responses": {
			"204": {
			  "description": "Tarea eliminada"
			},
			"400": {
			  "description": "ID es requerido"
			},
			"404": {
			  "description": "Tarea no encontrada"
			}
		  }
		}
	  }
	}
  }
  